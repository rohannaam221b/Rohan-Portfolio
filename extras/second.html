<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Validation & Mocking</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(180deg, #FFFFFF, #F8F9FA);
            color: #202124;
            overflow: hidden;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .validation-workspace {
            width: 100%;
            max-width: 1400px;
            height: 90vh;
            background: linear-gradient(180deg, #FFFFFF, #F8F9FA);
            border-radius: 8px;
            border: 2px solid #E8EAED;
            box-shadow: 0px 4px 12px rgba(0,0,0,0.08);
            overflow: hidden;
            position: relative;
        }

        /* Header - Same style as first illustration */
        .workspace-header {
            background: #FFFFFF;
            padding: 16px 24px;
            border-bottom: 2px solid #E8EAED;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0px 4px 12px rgba(0,0,0,0.08);
            z-index: 10;
            height: 56px;
        }

        .header-title {
            font-size: 16px;
            font-weight: 600;
            color: #202124;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .title-icon {
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #E8F0FE, #D2E3FC);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1A73E8;
            font-size: 12px;
            font-weight: 600;
        }

        .status-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: #fff;
            background: #88304E;
            padding: 8px 12px;
            border-radius: 8px;
            /* border: 2px solid #34A853; */
        }

        .status-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: #fff;
            animation: pulse 2s infinite;
        }

        /* Mobile Tab Navigation - Same style as first illustration */
        .mobile-tabs {
            display: none;
            background: #F1F3F4;
            border-bottom: 2px solid #E8EAED;
        }

        .tab-buttons {
            display: flex;
            width: 100%;
        }

        .tab-button {
            flex: 1;
            padding: 12px 8px;
            background: none;
            border: none;
            color: #5F6368;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            border-bottom: 3px solid transparent;
        }

        .tab-button.active {
            color: #202124;
            background: linear-gradient(135deg, #E8F0FE, #D2E3FC);
            border-bottom-color: #4285F4;
        }

        .tab-button:hover {
            background: linear-gradient(135deg, #F8F9FA, #F1F3F4);
        }

        /* Main Content Grid */
        .workspace-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            height: calc(100% - 70px);
        }

        /* Content Panels */
        .content-panel {
            display: block;
        }

        .content-panel.hidden {
            display: none;
        }

        /* Left Panel - Code Editor - Same dark theme as first illustration */
        .editor-panel {
            background: #202124;
            border-right: 2px solid #E8EAED;
            display: flex;
            flex-direction: column;
        }

        .editor-header {
            background: #202124;
            padding: 12px 20px;
            /* border-bottom: 2px solid #E8EAED; */
            font-size: 14px;
            font-weight: 500;
            color: #E8EAED;
        }

        .code-container {
            flex: 1;
            padding: 20px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 13px;
            line-height: 1.6;
            overflow: hidden;
            position: relative;
        }

        .code-line {
            display: flex;
            margin-bottom: 4px;
            opacity: 0;
            transform: translateX(-20px);
        }

        .line-number {
            color: #9AA0A6;
            width: 40px;
            text-align: right;
            margin-right: 20px;
            user-select: none;
        }

        .code-content {
            flex: 1;
            word-break: break-all;
        }

        /* Same YAML highlighting as first illustration */
        .yaml-key { color: #4285F4; }
        .yaml-string { color: #34A853; }
        .yaml-number { color: #FBBC04; }
        .yaml-comment { color: #9AA0A6; }
        .yaml-operator { color: #EA4335; }

        /* Validation indicators - Same style as first illustration */
        .validation-marker {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            width: 12px;
            height: 12px;
            border-radius: 8px;
            opacity: 0;
            flex-shrink: 0;
            /* border: 2px solid; */
        }

        .validation-marker.error {
            background: #ffccc7;
            /* border-color: #EA4335; */
            animation: errorPulse 1s ease-in-out;
        }

        .validation-marker.warning {
            background: linear-gradient(135deg, #FEF7E0, #FCE8B2);
            border-color: #FBBC04;
            animation: warningPulse 1s ease-in-out;
        }

        .validation-marker.success {
            background: linear-gradient(135deg, #E8F5E8, #CEE5CE);
            border-color: #34A853;
            animation: successPulse 1s ease-in-out;
        }

        /* Right Panel - Validation Results - Same white theme as first illustration */
        .validation-panel {
            background: #FFFFFF;
            display: flex;
            flex-direction: column;
        }

        .validation-header {
            background: #FFFFFF;
            padding: 12px 12px;
            /* border-bottom: 2px solid #E8EAED; */
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0px 4px 12px rgba(0,0,0,0.08);
        }

        .validation-title {
            font-size: 14px;
            font-weight: 600;
            color: #202124;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .validation-icon {
            width: 20px;
            height: 20px;
            background: linear-gradient(135deg, #E8F0FE, #D2E3FC);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1A73E8;
            font-size: 10px;
            font-weight: 600;
        }

        .validation-controls {
            display: flex;
            gap: 8px;
        }

        .control-btn {
            padding: 8px 12px;
            border: 2px solid #E8EAED;
            border-radius: 8px;
            background: #FFFFFF;
            color: #202124;
            font-size: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            /* box-shadow: 0px 4px 12px rgba(0,0,0,0.08); */
        }

        .control-btn:hover {
            background: linear-gradient(135deg, #E8F0FE, #D2E3FC);
            border-color: #4285F4;
            color: #1A73E8;
        }

        .control-btn.active {
            background: #fff;
            border-color: #fff;
            color: #FFFFFF;
        }

        .validation-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #FFFFFF;
        }

        .validation-section {
            margin-bottom: 24px;
        }

        .section-title {
            font-size: 14px;
            font-weight: 600;
            color: #202124;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        /* Same validation item styles as first illustration */
        .validation-item {
            background: #FFFFFF;
            border-radius: 8px;
            padding: 12px 16px;
            margin-bottom: 12px;
            border: 2px solid;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
            box-shadow: 0px 4px 12px rgba(0,0,0,0.08);
        }

        .validation-item.show {
            opacity: 1;
            transform: translateY(0);
        }

        .validation-item.error {
            border-color: #E8EAED;
            background: #fff
        }

        .validation-item.warning {
            border-color: #E8EAED;
            background: #fff
        }

        .validation-item.success {
            border-color: #E8EAED;
            background: #fff
        }

        .validation-item.info {
            border-color: #E8EAED;
            background: #fff
        }

        .item-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 4px;
        }

        /* Same method badges as first illustration */
        .item-type {
            font-size: 11px;
            font-weight: 500;
            text-transform: uppercase;
            padding: 6px 12px;
            margin-bottom: 4px;
            border-radius: 4px;
            /* border: 1px solid; */
            color: #FFFFFF;
        }

        .item-type.error {
            background: #ffe7e5;
            color: #EA4335;
            /* border-color:  */
        }

        .item-type.warning {
            background: #ffe79e;
            /* border-color: #FBBC04; */
            color: #735600;
        }

        .item-type.success {
            background: #c2ffd2;
            /* border-color: #34A853; */
            color: #008d26;
        }

        .item-type.info {
          color: #4285F4;
            background: #dce9ff;
            /* border-color: #4285F4; */
        }

        .item-message {
            font-size: 13px;
            color: #202124;
            line-height: 1.4;
            font-weight: 500;
        }

        .item-location {
            font-size: 11px;
            color: #5F6368;
            margin-top: 4px;
            font-family: 'Monaco', 'Consolas', monospace;
            word-break: break-all;
        }

        /* Mock Server Section - Same style as API endpoints in first illustration */
        .mock-section {
            margin-top: 20px;
        }

        .mock-request {
            background: #FFFFFF;
            border-radius: 8px;
            margin-bottom: 12px;
            overflow: hidden;
            opacity: 0;
            transform: scale(0.95);
            transition: all 0.5s ease;
            box-shadow: 0px 4px 12px rgba(0,0,0,0.08);
            border: 2px solid #E8EAED;
        }

        .mock-request.show {
            opacity: 1;
            transform: scale(1);
        }

        .request-header {
            background: linear-gradient(135deg, #F8F9FA, #F1F3F4);
            padding: 12px 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            flex-wrap: wrap;
            border-bottom: 2px solid #E8EAED;
        }

        /* Same HTTP method styles as first illustration */
        .http-method {
            padding: 6px 12px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 600;
            flex-shrink: 0;
            border: 2px solid;
        }

        .http-method.get { 
            background: linear-gradient(135deg, #E8F5E8, #CEE5CE);
            color: #137333;
            border-color: #34A853;
        }

        .http-method.post { 
            background: linear-gradient(135deg, #E8F0FE, #D2E3FC);
            color: #1A73E8;
            border-color: #4285F4;
        }

        .http-method.put { 
            background: linear-gradient(135deg, #FEF7E0, #FCE8B2);
            color: #B26000;
            border-color: #FBBC04;
        }

        .http-method.delete { 
            background: linear-gradient(135deg, #FCE8E6, #FAD2CF);
            color: #C5221F;
            border-color: #EA4335;
        }

        .request-path {
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 13px;
            color: #202124;
            word-break: break-all;
            flex: 1;
            min-width: 0;
            font-weight: 600;
        }

        .response-status {
            font-size: 11px;
            font-weight: 600;
            color: #137333;
            flex-shrink: 0;
        }

        .request-body {
            padding: 16px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 11px;
            color: #5F6368;
            background: #FFFFFF;
            overflow-x: auto;
        }

        /* Progress indicators - Same style as first illustration */
        .progress-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            /* background: linear-gradient(90deg, #4285F4, #34A853); */
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Same notification style as first illustration */
        .notification {
            position: absolute;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #E8F5E8, #CEE5CE);
            color: #137333;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.5s ease;
            z-index: 10;
            max-width: calc(100% - 40px);
            box-shadow: 0px 4px 12px rgba(0,0,0,0.08);
            border: 2px solid #34A853;
        }

        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }

        .notification.warning {
            background: linear-gradient(135deg, #FEF7E0, #FCE8B2);
            color: #B26000;
            border-color: #FBBC04;
        }

        .notification.error {
            background: linear-gradient(135deg, #FCE8E6, #FAD2CF);
            color: #C5221F;
            border-color: #EA4335;
        }

        /* Same animations as first illustration */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        @keyframes errorPulse {
            0% { opacity: 0; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        @keyframes warningPulse {
            0% { opacity: 0; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }

        @keyframes successPulse {
            0% { opacity: 0; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* ========================================
           RESPONSIVE BREAKPOINTS - Same as first illustration
        ======================================== */

        @media (max-width: 1024px) {
            .validation-workspace {
                height: 95vh;
                max-width: 100%;
                margin: 0 10px;
                border-radius: 8px;
            }

            .workspace-header {
                padding: 14px 20px;
            }

            .header-title {
                font-size: 16px;
            }

            .code-container {
                padding: 16px;
                font-size: 12px;
            }

            .validation-content {
                padding: 16px;
            }

            .line-number {
                width: 35px;
                margin-right: 15px;
            }
        }

        @media (max-width: 900px) {
            .validation-workspace {
                height: 100vh;
                margin: 0;
                border-radius: 0;
                border: none;
            }

            .workspace-content {
                grid-template-columns: 1.2fr 0.8fr;
            }

            .header-title {
                font-size: 15px;
                gap: 8px;
            }

            .code-container {
                padding: 12px;
                font-size: 11px;
                line-height: 1.5;
            }

            .validation-content {
                padding: 12px;
            }

            .line-number {
                width: 30px;
                margin-right: 12px;
                font-size: 10px;
            }

            .validation-controls {
                gap: 6px;
            }

            .control-btn {
                padding: 5px 10px;
                font-size: 11px;
            }

            .item-message {
                font-size: 12px;
            }

            .request-body {
                font-size: 10px;
                padding: 10px 12px;
            }

            .code-line:nth-child(n+16) {
                display: none;
            }
        }

        @media (max-width: 600px) {
            .workspace-content {
                grid-template-columns: 1fr;
                grid-template-rows: 1fr 1fr;
                height: calc(100% - 110px);
            }

            .mobile-tabs {
                display: block;
            }

            .editor-panel {
                border-right: none;
                border-bottom: 2px solid #E8EAED;
            }

            .workspace-header {
                padding: 12px 16px;
            }

            .header-title {
                font-size: 14px;
                gap: 6px;
            }

            .editor-header,
            .validation-header {
                padding: 10px 16px;
                font-size: 13px;
            }

            .code-container {
                padding: 10px;
                font-size: 10px;
                line-height: 1.4;
            }

            .validation-content {
                padding: 10px;
            }

            .line-number {
                width: 25px;
                margin-right: 10px;
                font-size: 9px;
            }

            .validation-controls {
                gap: 4px;
            }

            .control-btn {
                padding: 4px 8px;
                font-size: 10px;
            }

            .section-title {
                font-size: 13px;
                margin-bottom: 10px;
            }

            .validation-item {
                padding: 10px 12px;
                margin-bottom: 6px;
            }

            .item-message {
                font-size: 11px;
            }

            .item-location {
                font-size: 10px;
            }

            .request-header {
                padding: 8px 12px;
                gap: 8px;
            }

            .request-path {
                font-size: 11px;
            }

            .request-body {
                font-size: 9px;
                padding: 8px 12px;
            }

            .notification {
                top: 15px;
                right: 15px;
                left: 15px;
                font-size: 12px;
                padding: 10px 14px;
                max-width: none;
            }

            .code-line:nth-child(n+13) {
                display: none;
            }

            .content-panel.mobile-hidden {
                display: none;
            }
        }

        @media (max-width: 400px) {
            .workspace-header {
                padding: 10px 12px;
            }

            .header-title {
                font-size: 13px;
                gap: 4px;
            }

            .status-indicator span {
                display: none;
            }

            .tab-button {
                padding: 10px 4px;
                font-size: 12px;
            }

            .code-container {
                padding: 8px;
                font-size: 9px;
            }

            .validation-content {
                padding: 8px;
            }

            .line-number {
                width: 20px;
                margin-right: 8px;
                font-size: 8px;
            }

            .code-content {
                word-break: break-all;
                overflow-wrap: anywhere;
            }

            .validation-controls {
                flex-direction: column;
                gap: 3px;
            }

            .control-btn {
                padding: 6px 8px;
                font-size: 10px;
                text-align: center;
            }

            .validation-item {
                padding: 8px 10px;
                margin-bottom: 5px;
            }

            .item-header {
                flex-wrap: wrap;
                gap: 4px;
            }

            .item-type {
                font-size: 9px;
                padding: 2px 6px;
            }

            .item-message {
                font-size: 10px;
                line-height: 1.3;
            }

            .item-location {
                font-size: 9px;
                word-break: break-all;
            }

            .request-header {
                padding: 6px 10px;
                gap: 6px;
                flex-direction: column;
                align-items: flex-start;
            }

            .http-method {
                font-size: 10px;
                padding: 3px 6px;
            }

            .request-path {
                font-size: 10px;
                word-break: break-all;
            }

            .response-status {
                font-size: 10px;
                align-self: flex-end;
            }

            .request-body {
                font-size: 8px;
                padding: 6px 10px;
                line-height: 1.3;
            }

            .code-line:nth-child(n+10) {
                display: none;
            }

            .validation-marker {
                width: 8px;
                height: 8px;
                right: 5px;
            }
        }

        @media (min-width: 1400px) {
            .validation-workspace {
                max-width: 1400px;
            }

            .code-container {
                font-size: 14px;
            }

            .validation-content {
                font-size: 14px;
            }
        }

        @media (max-width: 900px) and (orientation: landscape) {
            .validation-workspace {
                height: 100vh;
            }

            .workspace-content {
                grid-template-columns: 1fr 1fr;
                grid-template-rows: 1fr;
                height: calc(100% - 70px);
            }

            .mobile-tabs {
                display: none;
            }

            .editor-panel {
                border-right: 2px solid #E8EAED;
                border-bottom: none;
            }

            .content-panel.mobile-hidden {
                display: flex;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            .code-line,
            .validation-item,
            .mock-request,
            .notification {
                animation: none;
                transition: opacity 0.2s ease;
            }

            .validation-marker {
                animation: none;
            }

            .status-dot {
                animation: none;
            }
        }
    </style>
</head>
<body>
    <div class="validation-workspace">
        <!-- Header - Same structure as first illustration -->
        <div class="workspace-header">
            <div class="header-title">
                <!-- <div class="title-icon">API</div> -->
                API Quality Validation & Mocking
            </div>
            <div class="status-indicator">
                <div class="status-dot"></div>
                <span>Live Validation Active</span>
            </div>
        </div>

        <!-- Mobile Tabs - Same style as first illustration -->
        <div class="mobile-tabs">
            <div class="tab-buttons">
                <button class="tab-button active" onclick="switchTab('code')">Code</button>
                <button class="tab-button" onclick="switchTab('validation')">Results</button>
                <button class="tab-button" onclick="switchTab('mock')">Mock</button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="workspace-content">
            <!-- Left Panel - Code Editor -->
            <div class="editor-panel content-panel" id="codePanel">
                <div class="editor-header">
                    openapi.yaml
                </div>
                <div class="code-container" id="codeContainer">
                    <!-- Code will be inserted here -->
                </div>
                <div class="progress-bar" id="progressBar"></div>
            </div>

            <!-- Right Panel - Validation Results -->
            <div class="validation-panel content-panel" id="validationPanel">
                <div class="validation-header">
                    <div class="validation-title">
                        <!-- <div class="validation-icon">VAL</div> -->
                        Validation Results
                    </div>
                    <div class="validation-controls">
                        <button class="control-btn active" onclick="showValidation()"></button>
                        <!-- <button class="control-btn" onclick="showMocking()">Mock</button> -->
                    </div>
                </div>
                <div class="validation-content" id="validationContent">
                    <!-- Validation results will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Floating Notifications - Same style as first illustration -->
        <!-- <div class="notification" id="notification">
            OpenAPI specification validated successfully
        </div> -->
    </div>

    <script>
        // Same code structure and data as first illustration
        const codeLines = {
            full: [
                { line: 1, content: 'openapi: <span class="yaml-string">"3.0.3"</span>' },
                { line: 2, content: '<span class="yaml-key">info</span>:' },
                { line: 3, content: '  <span class="yaml-key">title</span>: <span class="yaml-string">"User Management API"</span>' },
                { line: 4, content: '  <span class="yaml-key">version</span>: <span class="yaml-string">"1.0.0"</span>' },
                { line: 5, content: '  <span class="yaml-key">description</span>: <span class="yaml-string">"REST API for user operations"</span>' },
                { line: 6, content: '<span class="yaml-key">servers</span>:' },
                { line: 7, content: '  - <span class="yaml-key">url</span>: <span class="yaml-string">"https://api.example.com/v1"</span>' },
                { line: 8, content: '<span class="yaml-key">paths</span>:' },
                { line: 9, content: '  <span class="yaml-key">/users</span>:', marker: 'error' },
                { line: 10, content: '    <span class="yaml-key">get</span>:' },
                { line: 11, content: '      <span class="yaml-key">summary</span>: <span class="yaml-string">"Get all users"</span>' },
                { line: 12, content: '      <span class="yaml-key">responses</span>:', marker: 'warning' },
                { line: 13, content: '        <span class="yaml-string">"200"</span>:' },
                { line: 14, content: '          <span class="yaml-key">description</span>: <span class="yaml-string">"Success"</span>' },
                { line: 15, content: '          <span class="yaml-key">content</span>:', marker: 'success' },
                { line: 16, content: '            <span class="yaml-key">application/json</span>:' },
                { line: 17, content: '              <span class="yaml-key">schema</span>:' },
                { line: 18, content: '                <span class="yaml-key">type</span>: <span class="yaml-string">"array"</span>' },
                { line: 19, content: '                <span class="yaml-key">items</span>:' },
                { line: 20, content: '                  <span class="yaml-operator">$ref</span>: <span class="yaml-string">"#/components/schemas/User"</span>' }
            ]
        };

        // Same validation issues structure as first illustration
        const validationIssues = [
            {
                type: 'error',
                message: 'Missing required security scheme definition',
                location: 'paths./users.get',
                delay: 1000,
                priority: 1
            },
            {
                type: 'warning', 
                message: 'Response schema could include pagination metadata',
                location: 'paths./users.get.responses.200',
                delay: 1500,
                priority: 2
            },
            {
                type: 'success',
                message: 'OpenAPI 3.0.3 specification format is valid',
                location: 'openapi',
                delay: 2000,
                priority: 1
            },
            {
                type: 'info',
                message: 'Consider adding rate limiting documentation',
                location: 'info.description',
                delay: 2500,
                priority: 3
            },
            {
                type: 'success',
                message: 'All required properties properly defined',
                location: 'components.schemas.User',
                delay: 3000,
                priority: 2
            }
        ];

        // Same mock requests structure as first illustration
        const mockRequests = [
            {
                method: 'GET',
                path: '/users?limit=10',
                status: '200 OK',
                response: '{\n  "users": [\n    {"id": 1, "name": "John"}\n  ],\n  "total": 156\n}',
                delay: 1000
            },
            {
                method: 'POST',
                path: '/users',
                status: '201 Created',
                response: '{\n  "id": 157,\n  "name": "New User",\n  "created_at": "2024-01-15T10:30:00Z"\n}',
                delay: 2000
            },
            {
                method: 'GET',
                path: '/users/157',
                status: '200 OK',
                response: '{\n  "id": 157,\n  "name": "New User",\n  "role": "user"\n}',
                delay: 3000
            }
        ];

        let currentMode = 'validation';
        let currentTab = 'code';
        let isTabletOrMobile = false;

        // Same responsive helper functions as first illustration
        function getScreenSize() {
            const width = window.innerWidth;
            if (width <= 400) return 'mobile-sm';
            if (width <= 600) return 'mobile';
            if (width <= 900) return 'tablet';
            if (width <= 1024) return 'desktop-sm';
            return 'desktop';
        }

        function isMobileView() {
            return getScreenSize() === 'mobile' || getScreenSize() === 'mobile-sm';
        }

        function updateResponsiveLayout() {
            const screenSize = getScreenSize();
            isTabletOrMobile = screenSize === 'mobile' || screenSize === 'mobile-sm' || screenSize === 'tablet';
            
            if (isMobileView()) {
                handleMobileTabDisplay();
            } else {
                showAllPanels();
            }
        }

        function handleMobileTabDisplay() {
            const codePanel = document.getElementById('codePanel');
            const validationPanel = document.getElementById('validationPanel');
            
            codePanel.classList.add('mobile-hidden');
            validationPanel.classList.add('mobile-hidden');
            
            if (currentTab === 'code') {
                codePanel.classList.remove('mobile-hidden');
            } else {
                validationPanel.classList.remove('mobile-hidden');
            }
        }

        function showAllPanels() {
            const panels = document.querySelectorAll('.content-panel');
            panels.forEach(panel => {
                panel.classList.remove('mobile-hidden');
            });
        }

        function switchTab(tab) {
            currentTab = tab;
            
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            if (tab === 'code') {
                tabButtons[0].classList.add('active');
            } else if (tab === 'validation') {
                tabButtons[1].classList.add('active');
                showValidation();
            } else if (tab === 'mock') {
                tabButtons[2].classList.add('active');
                showMocking();
            }
            
            if (isMobileView()) {
                handleMobileTabDisplay();
            }
        }

        // Same initialization function as first illustration
        function init() {
            updateResponsiveLayout();
            displayCode();
            showValidation();
        }

        // Same code display function as first illustration
        function displayCode() {
            const container = document.getElementById('codeContainer');
            container.innerHTML = '';
            
            const screenSize = getScreenSize();
            let linesToShow = codeLines.full;
            
            if (screenSize === 'mobile-sm') {
                linesToShow = codeLines.full.slice(0, 9);
            } else if (screenSize === 'mobile') {
                linesToShow = codeLines.full.slice(0, 12);
            } else if (screenSize === 'tablet') {
                linesToShow = codeLines.full.slice(0, 15);
            }

            linesToShow.forEach((codeLine, index) => {
                setTimeout(() => {
                    const lineDiv = document.createElement('div');
                    lineDiv.className = 'code-line';
                    lineDiv.innerHTML = `
                        <span class="line-number">${codeLine.line}</span>
                        <span class="code-content">${codeLine.content}</span>
                        ${codeLine.marker ? `<div class="validation-marker ${codeLine.marker}"></div>` : ''}
                    `;
                    
                    container.appendChild(lineDiv);
                    
                    setTimeout(() => {
                        lineDiv.style.opacity = '1';
                        lineDiv.style.transform = 'translateX(0)';
                    }, 50);

                    const progress = ((index + 1) / linesToShow.length) * 100;
                    document.getElementById('progressBar').style.width = progress + '%';

                }, index * (isMobileView() ? 200 : 150));
            });
        }

        // Same validation display function as first illustration
        function showValidation() {
            currentMode = 'validation';
            updateControlButtons();
            
            const content = document.getElementById('validationContent');
            content.innerHTML = `
                <div class="validation-section">
                    <div class="section-title">
                        Linting Results
                    </div>
                    <div id="validationItems"></div>
                </div>
            `;

            const itemsContainer = document.getElementById('validationItems');
            const screenSize = getScreenSize();
            
            let issuesToShow = validationIssues;
            if (screenSize === 'mobile-sm') {
                issuesToShow = validationIssues.filter(issue => issue.priority <= 1);
            } else if (screenSize === 'mobile') {
                issuesToShow = validationIssues.filter(issue => issue.priority <= 2);
            }
            
            issuesToShow.forEach((issue, index) => {
                setTimeout(() => {
                    const item = document.createElement('div');
                    item.className = `validation-item ${issue.type}`;
                    item.innerHTML = `
                        <div class="item-header">
                            <span class="item-type ${issue.type}">${issue.type}</span>
                        </div>
                        <div class="item-message">${issue.message}</div>
                        <div class="item-location">${issue.location}</div>
                    `;
                    
                    itemsContainer.appendChild(item);
                    
                    setTimeout(() => {
                        item.classList.add('show');
                    }, 100);

                    if (issue.type === 'error' && index === 0) {
                        showNotification('Critical validation error detected', 'error');
                    } else if (issue.type === 'success' && index === Math.min(2, issuesToShow.length - 1)) {
                        showNotification('OpenAPI specification validated', 'success');
                    }

                }, issue.delay);
            });
        }

        // Same mocking display function as first illustration
        function showMocking() {
            currentMode = 'mocking';
            updateControlButtons();
            
            const content = document.getElementById('validationContent');
            content.innerHTML = `
                <div class="validation-section">
                    <div class="section-title">
                        Mock Server Activity
                    </div>
                    <div id="mockItems"></div>
                </div>
            `;

            const itemsContainer = document.getElementById('mockItems');
            const screenSize = getScreenSize();
            
            let requestsToShow = mockRequests;
            if (screenSize === 'mobile-sm') {
                requestsToShow = mockRequests.slice(0, 2);
            }
            
            requestsToShow.forEach((request, index) => {
                setTimeout(() => {
                    const item = document.createElement('div');
                    item.className = 'mock-request';
                    item.innerHTML = `
                        <div class="request-header">
                            <span class="http-method ${request.method.toLowerCase()}">${request.method}</span>
                            <span class="request-path">${request.path}</span>
                            <span class="response-status">${request.status}</span>
                        </div>
                        <div class="request-body">${request.response}</div>
                    `;
                    
                    itemsContainer.appendChild(item);
                    
                    setTimeout(() => {
                        item.classList.add('show');
                    }, 100);

                    if (index === 0) {
                        showNotification('Mock server responding to requests', 'success');
                    }

                }, request.delay);
            });
        }

        // Same control button updates as first illustration
        function updateControlButtons() {
            const buttons = document.querySelectorAll('.control-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            if (currentMode === 'validation') {
                buttons[0].classList.add('active');
            } else {
                buttons[1].classList.add('active');
            }
        }

        // Same notification function as first illustration
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.className = `notification ${type}`;
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            const hideDelay = isMobileView() ? 2500 : 3000;
            setTimeout(() => {
                notification.classList.remove('show');
            }, hideDelay);
        }

        // Same restart function as first illustration
        function restartAnimation() {
            document.getElementById('codeContainer').innerHTML = '';
            document.getElementById('validationContent').innerHTML = '';
            document.getElementById('progressBar').style.width = '0%';
            
            setTimeout(() => {
                init();
            }, 500);
        }

        // Same event handlers as first illustration
        function handleResize() {
            updateResponsiveLayout();
        }

        function handleOrientationChange() {
            setTimeout(() => {
                updateResponsiveLayout();
            }, 100);
        }

        // Same initialization as first illustration
        document.addEventListener('DOMContentLoaded', init);
        window.addEventListener('resize', handleResize);
        window.addEventListener('orientationchange', handleOrientationChange);

        // Same auto-restart logic as first illustration
        function startAutoRestart() {
            const interval = isMobileView() ? 12000 : 15000;
            setInterval(restartAnimation, interval);
        }

        setTimeout(startAutoRestart, 8000);

        // Same visibility handling as first illustration
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                const animatedElements = document.querySelectorAll('.code-line, .validation-item, .mock-request');
                animatedElements.forEach(el => {
                    el.style.animationPlayState = 'paused';
                });
            } else {
                const animatedElements = document.querySelectorAll('.code-line, .validation-item, .mock-request');
                animatedElements.forEach(el => {
                    el.style.animationPlayState = 'running';
                });
            }
        });

        // Same touch gesture support as first illustration
        let touchStartX = 0;
        let touchEndX = 0;

        function handleTouchStart(e) {
            touchStartX = e.changedTouches[0].screenX;
        }

        function handleTouchEnd(e) {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipeGesture();
        }

        function handleSwipeGesture() {
            if (!isMobileView()) return;
            
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;
            
            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    if (currentTab === 'code') switchTab('validation');
                    else if (currentTab === 'validation') switchTab('mock');
                } else {
                    if (currentTab === 'mock') switchTab('validation');
                    else if (currentTab === 'validation') switchTab('code');
                }
            }
        }

        // Same touch listeners as first illustration
        if ('ontouchstart' in window) {
            document.addEventListener('touchstart', handleTouchStart, { passive: true });
            document.addEventListener('touchend', handleTouchEnd, { passive: true });
        }
    </script>
</body>
</html>